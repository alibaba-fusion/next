@import '../core/index-noreset';

@import './scss/variable';
@import './scss/normalize';
@import './scss/mixin';

#{$btn-prefix} {
    & {
        position: relative;
        display: inline-block;
        box-shadow: $btn-shadow;
        text-decoration: none;
        text-align: center;
        text-transform: none;
        white-space: nowrap;
        vertical-align: middle;
        user-select: none;
        transition: all $motion-duration-immediately $motion-linear;
        line-height: 1;
        cursor: pointer;

        &:after {
            text-align: center;
            position: absolute;
            opacity: 0;
            visibility: hidden;
            transition: opacity $motion-duration-immediately $motion-linear;
        }

        &::before {
            content: '';
            display: inline-block;
            height: 100%;
            width: 0;
            vertical-align: middle;
        }

        .#{$css-prefix}icon {
            display: inline-block;
            font-size: 0;
            vertical-align: middle;
        }

        > span,
        > div {
            display: inline-block;
            vertical-align: middle;
        }

        > #{$btn-prefix}-helper {
            text-decoration: inherit;
            display: inline-block;
            vertical-align: middle;
        }

        &.hover,
        &:hover {
            box-shadow: $btn-shadow-hover;
        }
    }

    /* 尺寸维度 */
    /* ---------------------------------------- */
    &.#{$css-prefix} {
        &small {
            @include next-button-size(
                $btn-size-s-padding,
                $btn-size-s-height,
                $btn-size-s-font,
                $btn-size-s-border-width,
                $btn-size-s-corner,
                $btn-size-s-icon-margin,
                $btn-size-s-icon-size,
                $btn-size-s-icon-split-size
            );
        }
        &medium {
            @include next-button-size(
                $btn-size-m-padding,
                $btn-size-m-height,
                $btn-size-m-font,
                $btn-size-m-border-width,
                $btn-size-m-corner,
                $btn-size-m-icon-margin,
                $btn-size-m-icon-size,
                $btn-size-m-icon-split-size
            );
        }
        &large {
            @include next-button-size(
                $btn-size-l-padding,
                $btn-size-l-height,
                $btn-size-l-font,
                $btn-size-l-border-width,
                $btn-size-l-corner,
                $btn-size-l-icon-margin,
                $btn-size-l-icon-size,
                $btn-size-l-icon-split-size
            );
        }
    }

    /* 普通按钮 */
    &#{$btn-prefix} {
        &-normal {
            &#{$btn-prefix}-solid {
                border-style: $btn-normal-solid-border-style;
                @include button-color(
                    $btn-normal-solid-color,
                    $btn-normal-solid-color-hover,
                    $btn-normal-solid-color-active,
                    $btn-normal-solid-bg,
                    $btn-normal-solid-bg-hover,
                    $btn-normal-solid-bg-active,
                    $btn-normal-solid-border-color,
                    $btn-normal-solid-border-color-hover,
                    $btn-normal-solid-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-normal-solid-box-shadow-active;
                }
            }
            &#{$btn-prefix}-outline {
                border-style: $btn-normal-outline-border-style;
                @include button-color(
                    $btn-normal-outline-color,
                    $btn-normal-outline-color-hover,
                    $btn-normal-outline-color-active,
                    $btn-normal-outline-bg,
                    $btn-normal-outline-bg-hover,
                    $btn-normal-outline-bg-active,
                    $btn-normal-outline-border-color,
                    $btn-normal-outline-border-color-hover,
                    $btn-normal-outline-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-normal-outline-box-shadow-active;
                }
            }
            &#{$btn-prefix}-text {
                border-style: $btn-normal-text-border-style;
                @include button-color(
                    $btn-normal-text-color,
                    $btn-normal-text-color-hover,
                    $btn-normal-text-color-active,
                    $btn-normal-text-bg,
                    $btn-normal-text-bg-hover,
                    $btn-normal-text-bg-active,
                    $btn-normal-text-border-color,
                    $btn-normal-text-border-color-hover,
                    $btn-normal-text-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-normal-text-box-shadow-active;
                }
            }
        }

        &-primary {
            &#{$btn-prefix}-solid {
                border-style: $btn-primary-solid-border-style;
                @include button-color(
                    $btn-primary-solid-color,
                    $btn-primary-solid-color-hover,
                    $btn-primary-solid-color-active,
                    $btn-primary-solid-bg,
                    $btn-primary-solid-bg-hover,
                    $btn-primary-solid-bg-active,
                    $btn-primary-solid-border-color,
                    $btn-primary-solid-border-color-hover,
                    $btn-primary-solid-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-primary-solid-box-shadow-active;
                }
            }
            &#{$btn-prefix}-outline {
                border-style: $btn-primary-outline-border-style;
                @include button-color(
                    $btn-primary-outline-color,
                    $btn-primary-outline-color-hover,
                    $btn-primary-outline-color-active,
                    $btn-primary-outline-bg,
                    $btn-primary-outline-bg-hover,
                    $btn-primary-outline-bg-active,
                    $btn-primary-outline-border-color,
                    $btn-primary-outline-border-color-hover,
                    $btn-primary-outline-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-primary-outline-box-shadow-active;
                }
            }
            &#{$btn-prefix}-text {
                border-style: $btn-primary-text-border-style;
                @include button-color(
                    $btn-primary-text-color,
                    $btn-primary-text-color-hover,
                    $btn-primary-text-color-active,
                    $btn-primary-text-bg,
                    $btn-primary-text-bg-hover,
                    $btn-primary-text-bg-active,
                    $btn-primary-text-border-color,
                    $btn-primary-text-border-color-hover,
                    $btn-primary-text-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-primary-text-box-shadow-active;
                }
            }
        }

        &-warning {
            &#{$btn-prefix}-solid {
                border-style: $btn-warning-solid-border-style;
                @include button-color(
                    $btn-warning-solid-color,
                    $btn-warning-solid-color-hover,
                    $btn-warning-solid-color-active,
                    $btn-warning-solid-bg,
                    $btn-warning-solid-bg-hover,
                    $btn-warning-solid-bg-active,
                    $btn-warning-solid-border-color,
                    $btn-warning-solid-border-color-hover,
                    $btn-warning-solid-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-warning-solid-box-shadow-active;
                }
            }
            &#{$btn-prefix}-outline {
                border-style: $btn-warning-outline-border-style;
                @include button-color(
                    $btn-warning-outline-color,
                    $btn-warning-outline-color-hover,
                    $btn-warning-outline-color-active,
                    $btn-warning-outline-bg,
                    $btn-warning-outline-bg-hover,
                    $btn-warning-outline-bg-active,
                    $btn-warning-outline-border-color,
                    $btn-warning-outline-border-color-hover,
                    $btn-warning-outline-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-warning-outline-box-shadow-active;
                }
            }
            &#{$btn-prefix}-text {
                border-style: $btn-warning-text-border-style;
                @include button-color(
                    $btn-warning-text-color,
                    $btn-warning-text-color-hover,
                    $btn-warning-text-color-active,
                    $btn-warning-text-bg,
                    $btn-warning-text-bg-hover,
                    $btn-warning-text-bg-active,
                    $btn-warning-text-border-color,
                    $btn-warning-text-border-color-hover,
                    $btn-warning-text-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-warning-text-box-shadow-active;
                }
            }
        }

        &-inverse {
            &#{$btn-prefix}-solid {
                border-style: $btn-inverse-solid-border-style;
                @include button-color(
                    $btn-inverse-solid-color,
                    $btn-inverse-solid-color-hover,
                    $btn-inverse-solid-color-active,
                    $btn-inverse-solid-bg,
                    $btn-inverse-solid-bg-hover,
                    $btn-inverse-solid-bg-active,
                    $btn-inverse-solid-border-color-active,
                    $btn-inverse-solid-border-color-active,
                    $btn-inverse-solid-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-inverse-solid-box-shadow-active;
                }
            }
            &#{$btn-prefix}-outline {
                border-style: $btn-inverse-outline-border-style;
                @include button-color(
                    $btn-inverse-outline-color,
                    $btn-inverse-outline-color-hover,
                    $btn-inverse-outline-color-active,
                    $btn-inverse-outline-bg,
                    $btn-inverse-outline-bg-hover,
                    $btn-inverse-outline-bg-active,
                    $btn-inverse-outline-border-color,
                    $btn-inverse-outline-border-color-hover,
                    $btn-inverse-outline-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-inverse-outline-box-shadow-active;
                }
            }
            &#{$btn-prefix}-text {
                border-style: $btn-inverse-text-border-style;
                @include button-color(
                    $btn-inverse-text-color,
                    $btn-inverse-text-color-hover,
                    $btn-inverse-text-color-active,
                    $btn-inverse-text-bg,
                    $btn-inverse-text-bg-hover,
                    $btn-inverse-text-bg-active,
                    $btn-inverse-text-border-color,
                    $btn-inverse-text-border-color-hover,
                    $btn-inverse-text-border-color-active,
                );
                &.active,
                &:active {
                    box-shadow: $btn-inverse-text-box-shadow-active;
                }
            }
        }

        &-secondary {
            &#{$btn-prefix}-text {
                @include button-color(
                    $btn-text-secondary-color,
                    $btn-text-secondary-color-hover,
                    $btn-text-secondary-color-hover,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                );
                &.active,
                &:active {
                    box-shadow: none;
                }
            }
        }

        /* 幽灵按钮 */
        &-ghost {
            box-shadow: none;
            border-style: $btn-ghost-border-style;
            &#{$btn-prefix}-dark {
                @include button-color( $btn-ghost-dark-color, $btn-ghost-dark-color-hover, $btn-ghost-dark-color-hover, $btn-ghost-dark-bg-normal, $btn-ghost-dark-bg-hover, $btn-ghost-dark-bg-hover, $btn-ghost-dark-border-color, $btn-ghost-dark-border-color-hover, $btn-ghost-dark-border-color-hover);
                &.disabled,
                &[disabled] {
                    @include button-color( $btn-ghost-dark-color-disabled, $btn-ghost-dark-color-disabled, $btn-ghost-dark-color-disabled, $btn-ghost-dark-bg-disabled, $btn-ghost-dark-bg-disabled, $btn-ghost-dark-bg-disabled, $btn-ghost-dark-border-color-disabled, $btn-ghost-dark-border-color-disabled, $btn-ghost-dark-border-color-disabled);
                }
            }
            &#{$btn-prefix}-light {
                @include button-color( $btn-ghost-light-color, $btn-ghost-light-color-hover, $btn-ghost-light-color-hover, $btn-ghost-light-bg-normal, $btn-ghost-light-bg-hover, $btn-ghost-light-bg-hover, $btn-ghost-light-border-color, $btn-ghost-light-border-color-hover, $btn-ghost-light-border-color-hover);
                &.disabled,
                &[disabled] {
                    @include button-color( $btn-ghost-light-color-disabled, $btn-ghost-light-color-disabled, $btn-ghost-light-color-disabled, $btn-ghost-light-bg-disabled, $btn-ghost-light-bg-disabled, $btn-ghost-light-bg-disabled, $btn-ghost-light-border-color-disabled, $btn-ghost-light-border-color-disabled, $btn-ghost-light-border-color-disabled);
                }
            }
        }
    }

    /* 普通态禁用样式 */
    &.disabled,
    &[disabled] {
        cursor: not-allowed;
        &.active,
        &:active {
            box-shadow: none;
        }
        &#{$btn-prefix}-normal {
            &#{$btn-prefix}-solid {
                @include button-color(
                    $btn-normal-solid-color-disabled,
                    $btn-normal-solid-color-disabled,
                    $btn-normal-solid-color-disabled,
                    $btn-normal-solid-bg-disabled,
                    $btn-normal-solid-bg-disabled,
                    $btn-normal-solid-bg-disabled,
                    $btn-normal-solid-border-color-disabled,
                    $btn-normal-solid-border-color-disabled,
                    $btn-normal-solid-border-color-disabled,
                );
            }
            &#{$btn-prefix}-outline {
                @include button-color(
                    $btn-normal-outline-color-disabled,
                    $btn-normal-outline-color-disabled,
                    $btn-normal-outline-color-disabled,
                    $btn-normal-outline-bg-disabled,
                    $btn-normal-outline-bg-disabled,
                    $btn-normal-outline-bg-disabled,
                    $btn-normal-outline-border-color-disabled,
                    $btn-normal-outline-border-color-disabled,
                    $btn-normal-outline-border-color-disabled,
                );
            }
            &#{$btn-prefix}-text {
                @include button-color(
                    $btn-normal-text-color-disabled,
                    $btn-normal-text-color-disabled,
                    $btn-normal-text-color-disabled,
                    $btn-normal-text-bg-disabled,
                    $btn-normal-text-bg-disabled,
                    $btn-normal-text-bg-disabled,
                    $btn-normal-text-border-color-disabled,
                    $btn-normal-text-border-color-disabled,
                    $btn-normal-text-border-color-disabled,
                );
            }
        }

        &#{$btn-prefix}-primary {
            &#{$btn-prefix}-solid {
                @include button-color(
                    $btn-primary-solid-color-disabled,
                    $btn-primary-solid-color-disabled,
                    $btn-primary-solid-color-disabled,
                    $btn-primary-solid-bg-disabled,
                    $btn-primary-solid-bg-disabled,
                    $btn-primary-solid-bg-disabled,
                    $btn-primary-solid-border-color-disabled,
                    $btn-primary-solid-border-color-disabled,
                    $btn-primary-solid-border-color-disabled,
                );
            }
            &#{$btn-prefix}-outline {
                @include button-color(
                    $btn-primary-outline-color-disabled,
                    $btn-primary-outline-color-disabled,
                    $btn-primary-outline-color-disabled,
                    $btn-primary-outline-bg-disabled,
                    $btn-primary-outline-bg-disabled,
                    $btn-primary-outline-bg-disabled,
                    $btn-primary-outline-border-color-disabled,
                    $btn-primary-outline-border-color-disabled,
                    $btn-primary-outline-border-color-disabled,
                );
            }
            &#{$btn-prefix}-text {
                @include button-color(
                    $btn-primary-text-color-disabled,
                    $btn-primary-text-color-disabled,
                    $btn-primary-text-color-disabled,
                    $btn-primary-text--bg-disabled,
                    $btn-primary-text--bg-disabled,
                    $btn-primary-text--bg-disabled,
                    $btn-primary-text-border-color-disabled,
                    $btn-primary-text-border-color-disabled,
                    $btn-primary-text-border-color-disabled,
                );
            }
        }

        &#{$btn-prefix}-warning {
            &#{$btn-prefix}-solid {
                @include button-color(
                    $btn-warning-solid-color-disabled,
                    $btn-warning-solid-color-disabled,
                    $btn-warning-solid-color-disabled,
                    $btn-warning-solid-bg-disabled,
                    $btn-warning-solid-bg-disabled,
                    $btn-warning-solid-bg-disabled,
                    $btn-warning-solid-border-color-disabled,
                    $btn-warning-solid-border-color-disabled,
                    $btn-warning-solid-border-color-disabled,
                );
            }
            &#{$btn-prefix}-outline {
                @include button-color(
                    $btn-warning-outline-color-disabled,
                    $btn-warning-outline-color-disabled,
                    $btn-warning-outline-color-disabled,
                    $btn-warning-outline-bg-disabled,
                    $btn-warning-outline-bg-disabled,
                    $btn-warning-outline-bg-disabled,
                    $btn-warning-outline-border-color-disabled,
                    $btn-warning-outline-border-color-disabled,
                    $btn-warning-outline-border-color-disabled,
                );
            }
            &#{$btn-prefix}-text {
                @include button-color(
                    $btn-warning-text-color-disabled,
                    $btn-warning-text-color-disabled,
                    $btn-warning-text-color-disabled,
                    $btn-warning-text-bg-disabled,
                    $btn-warning-text-bg-disabled,
                    $btn-warning-text-bg-disabled,
                    $btn-warning-text-border-color-disabled,
                    $btn-warning-text-border-color-disabled,
                    $btn-warning-text-border-color-disabled,
                );
            }
        }

        &#{$btn-prefix}-inverse {
            &#{$btn-prefix}-solid {
                @include button-color(
                    $btn-inverse-solid-color-disabled,
                    $btn-inverse-solid-color-disabled,
                    $btn-inverse-solid-color-disabled,
                    $btn-inverse-solid-bg-disabled,
                    $btn-inverse-solid-bg-disabled,
                    $btn-inverse-solid-bg-disabled,
                    $btn-inverse-solid-border-disabled,
                    $btn-inverse-solid-border-disabled,
                    $btn-inverse-solid-border-disabled,
                );
            }
            &#{$btn-prefix}-outline {
                @include button-color(
                    $btn-inverse-outline-color-disabled,
                    $btn-inverse-outline-color-disabled,
                    $btn-inverse-outline-color-disabled,
                    $btn-inverse-outline-bg-disabled,
                    $btn-inverse-outline-bg-disabled,
                    $btn-inverse-outline-bg-disabled,
                    $btn-inverse-outline-border-color-disabled,
                    $btn-inverse-outline-border-color-disabled,
                    $btn-inverse-outline-border-color-disabled,
                );
            }
            &#{$btn-prefix}-text {
                @include button-color(
                    $btn-inverse-text-color-disabled,
                    $btn-inverse-text-color-disabled,
                    $btn-inverse-text-color-disabled,
                    $btn-inverse-text-bg-disabled,
                    $btn-inverse-text-bg-disabled,
                    $btn-inverse-text-bg-disabled,
                    $btn-inverse-text-border-color-disabled,
                    $btn-inverse-text-border-color-disabled,
                    $btn-inverse-text-border-color-disabled,
                );
            }
        }

        &#{$btn-prefix}-secondary {
            &#{$btn-prefix}-text {
                @include button-color(
                    $btn-text-disabled-color,
                    $btn-text-disabled-color,
                    $btn-text-disabled-color,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                    $color-transparent,
                );
            }
        }
    }

    /* 文本按钮 */
    &-text {
        box-shadow: none;
        border-radius: 0;
        user-select: text;

        &.hover,
        &:hover {
            box-shadow: none;
        }
        &.active,
        &:active {
            box-shadow: none;
        }

        &.#{$css-prefix}large {
            @include next-button-size(
                $btn-text-size-l-padding,
                $btn-text-size-l-height,
                $btn-text-size-l-font,
                $btn-text-size-l-border-width,
                $btn-text-size-l-corner,
                $btn-text-icon-l-margin,
                $btn-size-l-icon-size,
                $btn-size-l-icon-split-size
            );
        }
        &.#{$css-prefix}medium {
            @include next-button-size(
                $btn-text-size-m-padding,
                $btn-text-size-m-height,
                $btn-text-size-m-font,
                $btn-text-size-m-border-width,
                $btn-text-size-m-corner,
                $btn-text-icon-m-margin,
                $btn-size-m-icon-size,
                $btn-size-m-icon-split-size
            );
        }
        &.#{$css-prefix}small {
            @include next-button-size(
                $btn-text-size-s-padding,
                $btn-text-size-s-height,
                $btn-text-size-s-font,
                $btn-text-size-s-border-width,
                $btn-text-size-s-corner,
                $btn-text-icon-s-margin,
                $btn-size-s-icon-size,
                $btn-size-s-icon-split-size
            );
        }
        &#{$btn-prefix}-loading {
            @include button-color(
                $btn-text-loading-color,
                $btn-text-loading-color,
                $btn-text-loading-color,
                transparent,
                transparent,
                transparent,
                transparent,
                transparent,
                transparent
            );
        }
    }

    /* loading */
    /* ---------------------------------------- */
    &-loading {
        pointer-events: none;
        &:before {
            font-family: $icon-font-family;
            content: $icon-content-loading;
            opacity: 1;
            visibility: visible;
            animation: loadingCircle 2s infinite linear;
        }
        &:after {
            content: '';
            display: inline-block;
            position: static;
            height: 100%;
            width: 0;
            vertical-align: middle;
        }
    }

    /* custom loading */
    &-custom-loading {
        pointer-events: none;
    }

    /* 组合 */
    /* ---------------------------------------- */
    &-group {
        position: relative;
        display: inline-block;
        vertical-align: middle;

        > #{$btn-prefix} {
            position: relative;
            float: left;
            box-shadow: none;

            &:hover,
            &:focus,
            &:active,
            &.active {
                z-index: 1;
            }
            &.disabled,
            &[disabled] {
                z-index: 0;
            }
        }

        #{$btn-prefix}#{$btn-prefix} {
            margin: 0 0 0 -1px;
        }

        #{$btn-prefix}:not(:first-child):not(:last-child) {
            border-radius: 0;
        }

        > #{$btn-prefix}:first-child {
            margin: 0;
        }

        > #{$btn-prefix}:first-child:not(:last-child) {
            border-bottom-right-radius: 0;
            border-top-right-radius: 0;
        }

        > #{$btn-prefix}:last-child:not(:first-child) {
            border-bottom-left-radius: 0;
            border-top-left-radius: 0;
        }

        > #{$btn-prefix}-primary:not(:first-child):not(#{$btn-prefix}-outline) {
            border-left-color: rgba($color-white, .2);

            &:hover {
                border-left-color: transparent;
            }
            &.disabled,
            &[disabled] {
                border-left-color: $color-line1-1;
            }
        }
    }
}

@import './rtl.scss';
