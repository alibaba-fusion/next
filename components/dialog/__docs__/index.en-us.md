# Dialog

-   chinese: 弹窗
-   family: Feedback
-   category: Components
-   type: 弹层

---

## Guide

## When To Use

The dialog is used to provide the user with an auxiliary window for quickly performing a simple operation, confirming user information, or providing a feedback prompt without leaving the main path.

### `v2` update

version 1.25 add api `v2` to support open new version Dialog, feature as list:

feature：

-   use css (not js) to compute position, will easier
-   add `closeIcon` to controll icon display
-   add `width` to fix width of dialog, or you can set `width=auto` to follow content width
-   add `dialogRender` use with `react-draggable` support draggable

changes：

-   deprecated `align` `shouldUpdatePosition`, Dialog will update position autoly
-   deprecated `minMargin` , use `top` `bottom` insteaded
-   deprecated `isFullScreen` , use `overflowScroll` insteaded

## API

### Dialog

| Param                | Description                                                                                                                                                                                                                                                                                     | Type                                                                               | Default Value                          | Required | Supported Version |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------- | -------------------------------------- | -------- | ----------------- |
| visible              | Whether to show                                                                                                                                                                                                                                                                                 | boolean                                                                            | false                                  |          | -                 |
| title                | Title                                                                                                                                                                                                                                                                                           | React.ReactNode                                                                    | -                                      |          | -                 |
| children             | Content                                                                                                                                                                                                                                                                                         | React.ReactNode                                                                    | -                                      |          | -                 |
| footer               | Footer content, set to false to hide                                                                                                                                                                                                                                                            | boolean \| React.ReactNode                                                         | -                                      |          | -                 |
| footerAlign          | Footer button alignment                                                                                                                                                                                                                                                                         | 'left' \| 'center' \| 'right'                                                      | 'right'                                |          | -                 |
| footerActions        | Specify whether to exist and how to arrange the confirm and cancel buttons                                                                                                                                                                                                                      | Array<'ok' \| 'cancel'>                                                            | ['ok', 'cancel']                       |          | -                 |
| cache                | Whether to retain the child node when hiding                                                                                                                                                                                                                                                    | boolean                                                                            | false                                  |          | 1.23              |
| onOk                 | Callback function when the confirm button is clicked                                                                                                                                                                                                                                            | (event: React.MouseEvent) => void                                                  | -                                      |          | -                 |
| onCancel             | Callback function when the cancel button is clicked                                                                                                                                                                                                                                             | (event: React.MouseEvent) => void                                                  | -                                      |          | -                 |
| okProps              | Properties for the confirm button                                                                                                                                                                                                                                                               | ButtonProps                                                                        | -                                      |          | -                 |
| cancelProps          | Properties for the cancel button                                                                                                                                                                                                                                                                | ButtonProps                                                                        | -                                      |          | -                 |
| closeable            | [Deprecated] Control the way the dialog is closed                                                                                                                                                                                                                                               | 'close' \| 'mask' \| 'esc' \| boolean \| 'close,mask' \| 'close,esc' \| 'mask,esc' | 'esc,close'                            |          | -                 |
| closeMode            | Control the way the dialog is closed                                                                                                                                                                                                                                                            | CloseMode[] \| CloseMode                                                           | -                                      |          | 1.21              |
| onClose              | Callback function when the dialog is closed                                                                                                                                                                                                                                                     | (trigger: string, event: React.MouseEvent \| KeyboardEvent) => void                | -                                      |          | -                 |
| afterClose           | Callback function after the dialog is closed, if there is an animation, it will be triggered after the animation ends                                                                                                                                                                           | () => void                                                                         | -                                      |          | -                 |
| hasMask              | Whether to show the mask                                                                                                                                                                                                                                                                        | boolean                                                                            | -                                      |          | -                 |
| animation            | Animation playback method when showing and hiding                                                                                                                                                                                                                                               | Record<'in' \| 'out', string> \| false                                             | \{ in: 'fadeInUp', out: 'fadeOutUp' \} |          | -                 |
| autoFocus            | Whether to automatically obtain focus when the dialog is displayed                                                                                                                                                                                                                              | boolean                                                                            | false                                  |          | -                 |
| align                | [v2 Deprecated] Dialog alignment, see Overlay documentation                                                                                                                                                                                                                                     | string \| boolean                                                                  | -                                      |          | -                 |
| isFullScreen         | [v2 Deprecated] Whether to display all content instead of appearing a scroll bar to ensure that the dialog is displayed completely in the browser viewport, and this attribute only takes effect when the dialog is vertically and horizontally centered, that is, when align is set to 'cc cc' | boolean                                                                            | -                                      |          | -                 |
| shouldUpdatePosition | [v2 Deprecated] Whether to update the dialog position immediately when the dialog is re                                                                                                                                                                                                         | boolean                                                                            | -                                      |          | -                 |
| minMargin            | [v2 Deprecated] The minimum spacing between the dialog and the top and bottom of the browser, and the isFullScreen property is set to true and the align property is set to 'cc cc' is not effective                                                                                            | number                                                                             | 40                                     |          | -                 |
| overlayProps         | Properties for the overlay component                                                                                                                                                                                                                                                            | OverlayProps                                                                       | -                                      |          | -                 |
| locale               | Customized internationalized text                                                                                                                                                                                                                                                               | Partial<{<br/> ok: string;<br/> cancel: string;<br/> }>                            | -                                      |          | -                 |
| height               | Dialog height style                                                                                                                                                                                                                                                                             | string \| number                                                                   | -                                      |          | -                 |
| width                | Dialog width                                                                                                                                                                                                                                                                                    | string \| number                                                                   | -                                      |          | 1.25              |
| popupContainer       | Custom mount position                                                                                                                                                                                                                                                                           | string \| HTMLElement \| ((target?: HTMLElement) => HTMLElement)                   | -                                      |          | -                 |
| v2                   | Enable v2 version                                                                                                                                                                                                                                                                               | false \| undefined                                                                 | false                                  |          | -                 |
| noPadding            | Remove body spacing                                                                                                                                                                                                                                                                             | boolean                                                                            | false                                  |          | 1.26              |
| closeIcon            | Customize the close button icon                                                                                                                                                                                                                                                                 | React.ReactNode                                                                    | -                                      |          | 1.25              |

### Dialog V2

| Param            | Description                                                                                                                                                                                                                                                                                     | Type                                                                | Default Value                          | Required | Supported Version |
| ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------- | -------------------------------------- | -------- | ----------------- |
| visible          | Whether to show                                                                                                                                                                                                                                                                                 | boolean                                                             | false                                  |          | -                 |
| title            | Title                                                                                                                                                                                                                                                                                           | React.ReactNode                                                     | -                                      |          | -                 |
| children         | Content                                                                                                                                                                                                                                                                                         | React.ReactNode                                                     | -                                      |          | -                 |
| footer           | Footer content, set to false to hide                                                                                                                                                                                                                                                            | boolean \| React.ReactNode                                          | -                                      |          | -                 |
| footerAlign      | Footer button alignment                                                                                                                                                                                                                                                                         | 'left' \| 'center' \| 'right'                                       | 'right'                                |          | -                 |
| footerActions    | Specify whether to exist and how to arrange the confirm and cancel buttons                                                                                                                                                                                                                      | Array<'ok' \| 'cancel'>                                             | ['ok', 'cancel']                       |          | -                 |
| cache            | Whether to retain the child node when hiding                                                                                                                                                                                                                                                    | boolean                                                             | false                                  |          | 1.23              |
| onOk             | Callback function when the confirm button is clicked                                                                                                                                                                                                                                            | (event: React.MouseEvent) => void                                   | -                                      |          | -                 |
| onCancel         | Callback function when the cancel button is clicked                                                                                                                                                                                                                                             | (event: React.MouseEvent) => void                                   | -                                      |          | -                 |
| okProps          | Properties for the confirm button                                                                                                                                                                                                                                                               | ButtonProps                                                         | -                                      |          | -                 |
| cancelProps      | Properties for the cancel button                                                                                                                                                                                                                                                                | ButtonProps                                                         | -                                      |          | -                 |
| closeMode        | Control the way the dialog is closed                                                                                                                                                                                                                                                            | CloseMode[] \| CloseMode                                            | -                                      |          | 1.21              |
| onClose          | Callback function when the dialog is closed                                                                                                                                                                                                                                                     | (trigger: string, event: React.MouseEvent \| KeyboardEvent) => void | -                                      |          | -                 |
| afterClose       | Callback function after the dialog is closed, if there is an animation, it will be triggered after the animation ends                                                                                                                                                                           | () => void                                                          | -                                      |          | -                 |
| hasMask          | Whether to show the mask                                                                                                                                                                                                                                                                        | boolean                                                             | -                                      |          | -                 |
| animation        | Animation playback method when showing and hiding                                                                                                                                                                                                                                               | Record<'in' \| 'out', string> \| false                              | \{ in: 'fadeInUp', out: 'fadeOutUp' \} |          | -                 |
| autoFocus        | Whether to automatically obtain focus when the dialog is displayed                                                                                                                                                                                                                              | boolean                                                             | false                                  |          | -                 |
| isFullScreen     | [v2 Deprecated] Whether to display all content instead of appearing a scroll bar to ensure that the dialog is displayed completely in the browser viewport, and this attribute only takes effect when the dialog is vertically and horizontally centered, that is, when align is set to 'cc cc' | boolean                                                             | -                                      |          | -                 |
| minMargin        | [v2 Deprecated] The minimum spacing between the dialog and the top and bottom of the browser, and the isFullScreen property is set to true and the align property is set to 'cc cc' is not effective                                                                                            | number                                                              | 40                                     |          | -                 |
| overlayProps     | Properties for the overlay component                                                                                                                                                                                                                                                            | OverlayProps                                                        | -                                      |          | -                 |
| locale           | Customized internationalized text                                                                                                                                                                                                                                                               | Partial<{<br/> ok: string;<br/> cancel: string;<br/> }>             | -                                      |          | -                 |
| height           | Dialog height style                                                                                                                                                                                                                                                                             | string \| number                                                    | -                                      |          | -                 |
| popupContainer   | Custom mount position                                                                                                                                                                                                                                                                           | string \| HTMLElement \| ((target?: HTMLElement) => HTMLElement)    | -                                      |          | -                 |
| v2               | Enable v2 version                                                                                                                                                                                                                                                                               | true                                                                | false                                  |          | -                 |
| closeIcon        | Customize the close button icon                                                                                                                                                                                                                                                                 | React.ReactNode                                                     | -                                      |          | 1.25              |
| width            | Dialog width                                                                                                                                                                                                                                                                                    | string \| number                                                    | -                                      |          | 1.25              |
| noPadding        | Remove body spacing                                                                                                                                                                                                                                                                             | boolean                                                             | false                                  |          | 1.26              |
| top              | [v2] Dialog top margin, default 100, when centered=true, default 40                                                                                                                                                                                                                             | number                                                              | -                                      |          | 1.25              |
| bottom           | [v2] Dialog bottom margin                                                                                                                                                                                                                                                                       | number                                                              | 40                                     |          | 1.25              |
| overflowScroll   | [v2] Whether to display a scroll bar when the dialog height exceeds the browser viewport height                                                                                                                                                                                                 | boolean                                                             | -                                      |          | 1.25              |
| centered         | [v2] Dialog center alignment                                                                                                                                                                                                                                                                    | boolean                                                             | -                                      |          | 1.25              |
| dialogRender     | [v2] Custom rendering the dialog                                                                                                                                                                                                                                                                | (modal: React.ReactNode) => React.ReactNode                         | -                                      |          | -                 |
| wrapperClassName | [v2] The className of the outer wrapper                                                                                                                                                                                                                                                         | string                                                              | -                                      |          | 1.26              |
| wrapperStyle     | [v2] The style of the outer wrapper                                                                                                                                                                                                                                                             | React.CSSProperties                                                 | -                                      |          | 1.26              |

<!-- api-extra-start -->

### Dialog.alert(config)/Dialog.confirm(config)

The following only list common properties that config can pass, and other properties of the Dialog can also be passed in.

| Param        | Descripiton                                                   | Type      | Default Value |
| :----------- | :------------------------------------------------------------ | :-------- | :------------ |
| title        | title of dialog                                               | ReactNode | ''            |
| content      | content of dialog                                             | ReactNode | ''            |
| onOk         | callback function triggered when the ok button is clicked     | Function  | () => {}      |
| onCancel     | callback function triggered when the cancel button is clicked | Function  | () => {}      |
| messageProps | properties of Message                                         | Object    | {}            |

### Dialog.show

The following only list common properties that config can pass, and other properties of the Dialog can also be passed in.

| Param    | Descripiton                                                   | Type      | Default Value |
| :------- | :------------------------------------------------------------ | :-------- | :------------ |
| title    | title of dialog                                               | ReactNode | ''            |
| content  | content of dialog                                             | ReactNode | ''            |
| onOk     | callback function triggered when the ok button is clicked     | Function  | () => {}      |
| onCancel | callback function triggered when the cancel button is clicked | Function  | () => {}      |

<!-- api-extra-end -->

## Know Issue

### Stay centered when the dialog height changes

The Dialog uses JS for positioning by default. When the content is too long, JS automatically adjusts the height of the dialog so that the action button appears in the visible area. However, this may result in the inability to perceive the reuse of JS positioning when the height of the dialog changes. There are two solutions:

1. Set `shouldUpdatePosition` to true to reposition after content is updated.

2. Use `isFullScreen` to enable CSS positioning. It can be adaptively centered no matter how the height of the dialog changes, but the action button cannot appear in the visible area when the content is too long.

## ARIA and Keyboard

| Keyboard  | Descripiton                                                                                                 |
| :-------- | :---------------------------------------------------------------------------------------------------------- |
| esc       | pressing ESC will close dialog                                                                              |
| tab       | focus on any element that can be focused, the focus remains in the dialog when the dialog is displayed      |
| shift+tab | back focus on any element that can be focused, the focus remains in the dialog when the dialog is displayed |
