# Tree

-   category: Components
-   family: DataDisplay
-   chinese: 树形控件
-   type: 基本

---

用于展示具有层级结构的数据。

## 何时使用

`Tree`组件适用于大量、具有层级关系的数据展示场景中，并且利用组件的展开收起和关联选中等交互可以方便地对数据进行操作处理。

## API

### Tree

| 参数                | 说明                                                                                                                                                                              | 类型                                                                                                                                                                                                                                                        | 默认值      | 是否必填 | 支持版本 |
| ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------- | -------- | -------- |
| children            | 树节点                                                                                                                                                                            | React.ReactNode                                                                                                                                                                                                                                             | -           |          | -        |
| dataSource          | 数据源，该属性优先级高于 children                                                                                                                                                 | TreeDataType[]                                                                                                                                                                                                                                              | -           |          | -        |
| showLine            | 是否显示树的线                                                                                                                                                                    | boolean                                                                                                                                                                                                                                                     | false       | 是       | -        |
| selectable          | 是否支持选中节点                                                                                                                                                                  | boolean                                                                                                                                                                                                                                                     | false       | 是       | -        |
| selectedKeys        | （用于受控）当前选中节点 key 的数组                                                                                                                                               | string[]                                                                                                                                                                                                                                                    | -           |          | -        |
| defaultSelectedKeys | （用于非受控）默认选中节点 key 的数组                                                                                                                                             | string[]                                                                                                                                                                                                                                                    | []          |          | -        |
| onSelect            | 选中或取消选中节点时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_selectedKeys_: 选中节点key的数组<br/>_extra_: 额外参数<br/>**返回值**:<br/>空                            | (<br/> selectedKeys: string[],<br/> extra: {<br/> selectedNodes: Array<NodeInstance>;<br/> node: NodeInstance;<br/> selected: boolean;<br/> event: React.KeyboardEvent;<br/> }<br/> ) => void                                                               | () =\> \{\} |          | -        |
| multiple            | 是否支持多选                                                                                                                                                                      | boolean                                                                                                                                                                                                                                                     | false       |          | -        |
| checkable           | 是否支持勾选节点的复选框                                                                                                                                                          | boolean                                                                                                                                                                                                                                                     | false       |          | -        |
| checkedKeys         | （用于受控）当前勾选复选框节点 key 的数组或 `{checked: Array, indeterminate: Array}` 的对象                                                                                       | \| {<br/> checked: string[];<br/> indeterminate: string[];<br/> }<br/> \| string[]                                                                                                                                                                          | -           |          | -        |
| defaultCheckedKeys  | （用于非受控）默认勾选复选框节点 key 的数组                                                                                                                                       | \| {<br/> checked: string[];<br/> indeterminate: string[];<br/> }<br/> \| string[]                                                                                                                                                                          | []          | 是       | -        |
| checkStrictly       | 勾选节点复选框是否完全受控（父子节点选中状态不再关联）                                                                                                                            | boolean                                                                                                                                                                                                                                                     | false       | 是       | -        |
| checkedStrategy     | 定义选中时回填的方式                                                                                                                                                              | 'all' \| 'parent' \| 'child'                                                                                                                                                                                                                                | 'all'       | 是       | -        |
| onCheck             | 勾选或取消勾选复选框时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_checkedKeys_: 勾选复选框节点key的数组<br/>_extra_: 额外参数<br/>**返回值**:<br/>空                     | (<br/> checkedKeys: string[],<br/> extra: {<br/> checkedNodes: Array<NodeInstance>;<br/> checkedNodesPositions: Array<NodeInstance>;<br/> indeterminateKeys: string[];<br/> node: NodeInstance;<br/> checked: boolean;<br/> key: Key;<br/> }<br/> ) => void | () =\> \{\} | 是       | -        |
| expandedKeys        | （用于受控）当前展开的节点 key 的数组                                                                                                                                             | string[]                                                                                                                                                                                                                                                    | -           |          | -        |
| defaultExpandedKeys | （用于非受控）默认展开的节点 key 的数组                                                                                                                                           | string[]                                                                                                                                                                                                                                                    | []          | 是       | -        |
| defaultExpandAll    | 是否默认展开所有节点                                                                                                                                                              | boolean                                                                                                                                                                                                                                                     | false       | 是       | -        |
| autoExpandParent    | 是否自动展开父节点                                                                                                                                                                | boolean                                                                                                                                                                                                                                                     | true        | 是       | -        |
| onExpand            | 展开或收起节点时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_expandedKeys_: 展开节点key的数组<br/>_extra_: 额外参数<br/>**返回值**:<br/>空                                | (<br/> expandedKeys: string[],<br/> extra: {<br/> node: NodeInstance;<br/> expanded: boolean;<br/> }<br/> ) => void                                                                                                                                         | () =\> \{\} | 是       | -        |
| editable            | 是否支持编辑节点内容                                                                                                                                                              | boolean                                                                                                                                                                                                                                                     | false       | 是       | -        |
| onEditFinish        | 编辑节点内容完成时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_key_: 编辑节点 key<br/>_label_: 编辑节点完成时节点的文本<br/>_node_: 当前编辑的节点<br/>**返回值**:<br/>空 | (key: Key, label: string, node: NodeInstance) => void                                                                                                                                                                                                       | () =\> \{\} | 是       | -        |
| draggable           | 是否支持拖拽节点                                                                                                                                                                  | boolean                                                                                                                                                                                                                                                     | false       | 是       | -        |
| onDragStart         | 开始拖拽节点时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                                         | (info: {<br/> event: React.MouseEvent;<br/> node: NodeInstance;<br/> expandedKeys: string[];<br/> }) => void                                                                                                                                                | () =\> \{\} | 是       | -        |
| onDragEnter         | 拖拽节点进入目标节点时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                                 | (info: {<br/> event: React.MouseEvent;<br/> node: NodeInstance;<br/> expandedKeys: Array<string>;<br/> }) => void                                                                                                                                           | () =\> \{\} | 是       | -        |
| onDragOver          | 拖拽节点在目标节点上移动的时候触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                         | (info: { event: React.MouseEvent; node: NodeInstance }) => void                                                                                                                                                                                             | () =\> \{\} | 是       | -        |
| onDragLeave         | 拖拽节点离开目标节点时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                                 | (info: { event: React.MouseEvent; node: NodeInstance }) => void                                                                                                                                                                                             | () =\> \{\} | 是       | -        |
| onDragEnd           | 拖拽节点拖拽结束时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                                     | (info: { event: React.MouseEvent; node: NodeInstance }) => void                                                                                                                                                                                             | () =\> \{\} | 是       | -        |
| onDrop              | 拖拽节点放入目标节点内或前后触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                           | (info: {<br/> event: React.MouseEvent;<br/> node: NodeInstance;<br/> dragNode: NodeInstance;<br/> dragNodesKeys: Array<string>;<br/> dropPosition: number;<br/> }) => void                                                                                  | () =\> \{\} | 是       | -        |
| canDrop             | 节点是否可被作为拖拽的目标节点<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>是否可以被当作目标节点                                                   | (info: {<br/> event?: React.MouseEvent;<br/> node: NodeInstance;<br/> dragNode: NodeInstance;<br/> dragNodesKeys: Array<string>;<br/> dropPosition: number;<br/> }) => boolean                                                                              | () =\> \{\} | 是       | -        |
| loadData            | 异步加载数据的函数<br/><br/>**签名**:<br/>**参数**:<br/>_node_: 被点击展开的节点                                                                                                  | (node: NodeInstance) => Promise<unknown>                                                                                                                                                                                                                    | -           |          | -        |
| filterTreeNode      | 按需筛选高亮节点<br/><br/>**签名**:<br/>**参数**:<br/>_node_: 待筛选的节点<br/>**返回值**:<br/>是否被筛选中                                                                       | (node: NodeInstance) => boolean                                                                                                                                                                                                                             | -           |          | -        |
| onRightClick        | 右键点击节点时触发的回调函数<br/><br/>**签名**:<br/>**参数**:<br/>_info_: 额外参数<br/>**返回值**:<br/>空                                                                         | (info: { event: React.MouseEvent; node: NodeInstance }) => void                                                                                                                                                                                             | () =\> \{\} | 是       | -        |
| isLabelBlock        | 设置节点是否占满剩余空间，一般用于统一在各节点右侧添加元素(借助 flex 实现，暂时只支持 ie10+)                                                                                      | boolean                                                                                                                                                                                                                                                     | false       |          | -        |
| isNodeBlock         | 设置节点是否占满一行                                                                                                                                                              | boolean \| Record<string, unknown>                                                                                                                                                                                                                          | false       |          | -        |
| animation           | 是否开启展开收起动画                                                                                                                                                              | boolean                                                                                                                                                                                                                                                     | true        |          | -        |
| focusedKey          | 当前获得焦点的子菜单或菜单项 key 值                                                                                                                                               | Key                                                                                                                                                                                                                                                         | -           |          | -        |
| renderChildNodes    | 渲染子节点<br/><br/>**签名**:<br/>**参数**:<br/>_nodes_: 所有的子节点<br/>**返回值**:<br/>子节点                                                                                  | (nodes: NodeElement[]) => React.ReactNode                                                                                                                                                                                                                   | -           |          | -        |
| labelRender         | 渲染单个子节点<br/><br/>**签名**:<br/>**参数**:<br/>_node_: 节点数据<br/>**返回值**:<br/>返回节点                                                                                 | (node: Record<string, unknown>) => React.ReactNode                                                                                                                                                                                                          | -           |          | 1.25     |
| immutable           | 是否是不可变数据                                                                                                                                                                  | boolean                                                                                                                                                                                                                                                     | false       |          | 1.23     |
| useVirtual          | 是否开启虚拟滚动                                                                                                                                                                  | boolean                                                                                                                                                                                                                                                     | false       |          | -        |

### Tree.Node

| 参数             | 说明                                           | 类型            | 默认值 | 是否必填 |
| ---------------- | ---------------------------------------------- | --------------- | ------ | -------- |
| children         | 树节点                                         | React.ReactNode | -      |          |
| label            | 节点文本内容                                   | React.ReactNode | '--    |          |
| selectable       | 单独设置是否支持选中，覆盖 Tree 的 selectable  | boolean         | -      |          |
| checkable        | 单独设置是否出现复选框，覆盖 Tree 的 checkable | boolean         | -      |          |
| editable         | 单独设置是否支持编辑，覆盖 Tree 的 editable    | boolean         | -      |          |
| draggable        | 单独设置是否支持拖拽，覆盖 Tree 的 draggable   | boolean         | -      |          |
| disabled         | 是否禁止节点响应                               | boolean         | false  |          |
| checkboxDisabled | 是否禁止勾选节点复选框                         | boolean         | false  |          |
| isLeaf           | 是否是叶子节点，设置loadData时生效             | boolean         | -      |          |
