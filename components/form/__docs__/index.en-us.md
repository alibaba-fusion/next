# Form

-   category: Components
-   family: DataEntry
-   cols: 1
-   type: Form

---

## Guide

### When To Use

Form layout, validation, data submission operations used.

### Note

-   Components do not use the keyword `nodeName` as the name and input`s id.
-   Form uses `size="medium"` by default and controls the size of all components in the FormItem. If you want to modify the component size, set `<FormItem size="small" >`.
-   In the vertical layout form, if the text (generally `<p>` tag) or component deviates upwards, it can be adjusted with `className="next-form-text-align"`
-   It must be a component wrapped directly by `<FormItem>` to display the error message. If the error did not show, check whether there are multiple levels DOM. For example, `<FormItem><div><Input/></div></FormItem>` is unable to display error message.
-   could use `<Form field={false}>` to close inner field

## API

### Form

| Param                     | Description                                                                                                                                                                                                                                                                              | Type                                                                                                                         | Default Value                                        | Required | Supported Version |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------- | -------- | ----------------- |
| inline                    | Inline                                                                                                                                                                                                                                                                                   | boolean                                                                                                                      | -                                                    |          | -                 |
| size                      | When an Item within a Form has a specific size configuration, that customization overrides the general size setting of the Form. Additionally, if a component is integrated with an Item, the component's individual size property does not apply                                        | 'large' \| 'medium' \| 'small'                                                                                               | medium                                               |          | -                 |
| fullWidth                 | Is the width of form                                                                                                                                                                                                                                                                     | boolean                                                                                                                      | -                                                    |          | -                 |
| labelAlign                | The position of the label, if labelCol and wrapperCol are not set, defaults to having the label positioned above.                                                                                                                                                                        | 'top' \| 'left' \| 'inset'                                                                                                   | left                                                 |          | -                 |
| labelTextAlign            | The alignment of the label on the left and right                                                                                                                                                                                                                                         | 'left' \| 'right'                                                                                                            | -                                                    |          | -                 |
| field                     | Field instance, pass false to disable                                                                                                                                                                                                                                                    | false \| NextField \| null                                                                                                   | -                                                    |          | -                 |
| saveField                 | Save the Form automatically generated field object                                                                                                                                                                                                                                       | (field?: NextField \| null) => void                                                                                          | func.noop                                            |          | -                 |
| labelCol                  | Control the labelCol of the first level Item                                                                                                                                                                                                                                             | ColProps                                                                                                                     | -                                                    |          | -                 |
| wrapperCol                | Control the wrapperCol of the first level Item                                                                                                                                                                                                                                           | ColProps                                                                                                                     | -                                                    |          | -                 |
| onSubmit                  | Triggered when there is an element with `htmlType="submit"` in the form                                                                                                                                                                                                                  | FormEventHandler\<HTMLFormElement>                                                                                           | function preventDefault(e) \{ e.preventDefault(); \} |          | -                 |
| children                  | Child elements                                                                                                                                                                                                                                                                           | ReactNode                                                                                                                    | -                                                    |          | -                 |
| value                     | Form value                                                                                                                                                                                                                                                                               | FieldValues                                                                                                                  | -                                                    |          | -                 |
| onChange                  | Form change callback<br/><br/>**signature**:<br/>**params**:<br/>_values_: Form values<br/>_item_: Form item, item.name: The name of the component that changed, item.value: The new data of the changed component, item.field: The field instance associated with the changed component | (<br/> values: FieldValues \| undefined,<br/> item: { name: string; value: string; field: NextField \| null }<br/> ) => void | func.noop                                            |          | -                 |
| component                 | Set the tag type                                                                                                                                                                                                                                                                         | ElementType                                                                                                                  | 'form'                                               |          | -                 |
| fieldOptions              | Field configuration, will be used when initializing the field instance in Form                                                                                                                                                                                                           | FieldOption                                                                                                                  | -                                                    |          | -                 |
| device                    | Preset screen width                                                                                                                                                                                                                                                                      | 'desktop' \| 'phone' \| 'tablet'                                                                                             | 'desktop'                                            |          | -                 |
| responsive                | Whether to enable the built                                                                                                                                                                                                                                                              | boolean                                                                                                                      | -                                                    |          | 1.19              |
| isPreview                 | Whether to enable preview                                                                                                                                                                                                                                                                | boolean                                                                                                                      | -                                                    |          | 1.19              |
| useLabelForErrorMessage   | Whether to use the label to replace the name of the error message                                                                                                                                                                                                                        | boolean                                                                                                                      | -                                                    |          | 1.20              |
| preferMarginToDisplayHelp | Prefer to display help with margin                                                                                                                                                                                                                                                       | boolean                                                                                                                      | false                                                |          | 1.26.37           |
| colon                     | Indicates whether to display a colon after the label                                                                                                                                                                                                                                     | boolean                                                                                                                      | false                                                |          | 1.22              |
| disabled                  | Whether to disable                                                                                                                                                                                                                                                                       | boolean                                                                                                                      | false                                                |          | -                 |

### Form.Item

手动传递了 wrapCol labelCol 会使用 Grid 辅助布局; labelAlign='top' 会强制禁用 Grid

Manual passing of wrapCol labelCol will use Grid auxiliary layout; labelAlign='top' will force disable Grid

| Param                     | Description                                                                                                                                                  | Type                                           | Default Value | Required | Supported Version |
| ------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------- | ------------- | -------- | ----------------- |
| labelCol                  | Label label layout, same as `<Col>` component, set span offset value, like \{span: 8, offset: 16\}, only works in vertical forms                             | ColProps                                       | -             |          | -                 |
| wrapperCol                | Customized layout for input controls, usage same as labelCol                                                                                                 | ColProps                                       | -             |          | -                 |
| help                      | Customized prompt information, if not set, will be automatically generated according to the validation rules                                                 | ReactNode                                      | -             |          | -                 |
| name                      | Field name, default assigned to the first child                                                                                                              | string                                         | -             |          | -                 |
| extra                     | Extra prompt information, similar to help, when both error information and prompt text are required, use this                                                | ReactNode                                      | -             |          | -                 |
| validateState             | Validate state, if not set, will be automatically generated according to the validation rules                                                                | 'error' \| 'success' \| 'loading' \| 'warning' | -             |          | -                 |
| hasFeedback               | Used with validateState property, whether to display the success/loading icon of the success/loading state, currently only the Input component supports this | boolean                                        | false         |          | -                 |
| children                  | Node or function(values)                                                                                                                                     | ReactNode \| ((values: FieldValues) => void)   | -             |          | -                 |
| fullWidth                 | Whether the form component width of the single Item is 100%                                                                                                  | boolean                                        | -             |          | -                 |
| labelAlign                | Label position, if not set labelCol and wrapperCol, the default is label on top                                                                              | 'top' \| 'left' \| 'inset'                     | -             |          | -                 |
| labelTextAlign            | Label left right alignment                                                                                                                                   | 'left' \| 'right'                              | -             |          | -                 |
| required                  | [Form Validation] Cannot be empty                                                                                                                            | boolean                                        | -             |          | -                 |
| asterisk                  | Whether to display the star of required                                                                                                                      | boolean                                        | -             |          | -                 |
| requiredMessage           | Required custom error information                                                                                                                            | string                                         | -             |          | -                 |
| requiredTrigger           | Required custom trigger mode, the default value is onChange, native events can also use onChange/onBlur/onFocus/...                                          | string \| Array\<string>                       | -             |          | -                 |
| min                       | [Form Validation] Minimum value                                                                                                                              | number                                         | -             |          | -                 |
| max                       | [Form Validation] Maximum value                                                                                                                              | number                                         | -             |          | -                 |
| minmaxMessage             | Min/max custom error information                                                                                                                             | string                                         | -             |          | -                 |
| minmaxTrigger             | Min/max custom trigger mode                                                                                                                                  | string \| Array\<string>                       | -             |          | -                 |
| minLength                 | [Form Validation] String minimum length / Array minimum number                                                                                               | number                                         | -             |          | -                 |
| maxLength                 | [Form Validation] String maximum length / Array maximum number                                                                                               | number                                         | -             |          | -                 |
| minmaxLengthMessage       | MinLength/maxLength custom error information                                                                                                                 | string                                         | -             |          | -                 |
| minmaxLengthTrigger       | MinLength/maxLength custom trigger mode                                                                                                                      | string \| Array\<string>                       | -             |          | -                 |
| length                    | [Form Validation] String exact length / Array exact number                                                                                                   | number                                         | -             |          | -                 |
| lengthMessage             | Length custom error information                                                                                                                              | string                                         | -             |          | -                 |
| lengthTrigger             | Length custom trigger mode                                                                                                                                   | string \| Array\<string>                       | -             |          | -                 |
| pattern                   | Regular expression                                                                                                                                           | unknown                                        | -             |          | -                 |
| patternMessage            | Pattern custom error information                                                                                                                             | string                                         | -             |          | -                 |
| patternTrigger            | Pattern validate when triggered, the default value is onChange, native events can also use onChange/onBlur/onFocus/...                                       | string \| Array\<string>                       | -             |          | -                 |
| format                    | [Form Validation] four common patterns                                                                                                                       | 'number' \| 'email' \| 'url' \| 'tel'          | -             |          | -                 |
| formatMessage             | Format custom error information                                                                                                                              | string                                         | -             |          | -                 |
| formatTrigger             | Format validate when triggered, the default value is onChange, native events can also use onChange/onBlur/onFocus/...                                        | string \| Array\<string>                       | -             |          | -                 |
| validator                 | Custom validation function                                                                                                                                   | Validator                                      | -             |          | -                 |
| validatorTrigger          | Validator custom trigger mode, the default value is onChange, native events can also use onChange/onBlur/onFocus/...                                         | string \| Array\<string>                       | -             |          | -                 |
| autoValidate              | Whether to automatically trigger validation when data is modified                                                                                            | boolean                                        | -             |          | -                 |
| device                    | Preset screen width                                                                                                                                          | 'desktop' \| 'phone' \| 'tablet'               | -             |          | -                 |
| colSpan                   | In response layout mode, how many columns does the form item occupy                                                                                          | number                                         | -             |          | -                 |
| labelWidth                | In response layout mode, and the label is on the left, how wide is the label                                                                                 | number \| string                               | 100           |          | -                 |
| isPreview                 | Whether to open preview                                                                                                                                      | boolean                                        | -             |          | -                 |
| renderPreview             | Preview mode rendering content<br/><br/>**signature**:<br/>**params**:<br/>_value_: Based on the value type of the wrapped component                         | (values: unknown) => unknown                   | -             |          | -                 |
| errorMessageName          | Replacement of the name field of the check information, useLabelForErrorMessage is enabled when the label priority is higher                                 | string                                         | -             |          | -                 |
| useLabelForErrorMessage   | Whether to use label to replace the name field of the check information                                                                                      | boolean                                        | -             |          | -                 |
| preferMarginToDisplayHelp | Prefer margin space to display help                                                                                                                          | boolean                                        | false         |          | 1.26.37           |
| colon                     | Indicates whether to display the colon after the label                                                                                                       | boolean                                        | -             |          | -                 |
| disabled                  | Is the form disabled                                                                                                                                         | boolean                                        | -             |          | -                 |
| valueName                 | Child element value name                                                                                                                                     | string                                         | -             |          | -                 |
| type                      | -                                                                                                                                                            | string                                         | -             |          | -                 |

### Form.Submit

继承 Button API

Inherit Button API

| Param    | Description                                                                                                                               | Type                                                           | Default Value | Required |
| -------- | ----------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- | ------------- | -------- |
| onClick  | Triggered after clicking submit<br/><br/>**signature**:<br/>**params**:<br/>_value_: Data<br/>_errors_: Errors data<br/>_field_: Instance | (value?: unknown, errors?: unknown, field?: NextField) => void | func.noop     |          |
| validate | Is the name array of the check/need to check                                                                                              | boolean \| Array\<string>                                      | -             |          |
| field    | Custom field (in Forms, you do not need to set)                                                                                           | NextField                                                      | -             |          |

### Form.Reset

继承 Button API

Inherit Button API

| Param     | Description                                     | Type           | Default Value | Required |
| --------- | ----------------------------------------------- | -------------- | ------------- | -------- |
| names     | Custom reset field                              | Array\<string> | -             |          |
| onClick   | Triggered after clicking submit                 | () => void     | func.noop     |          |
| toDefault | Return default value                            | boolean        | -             |          |
| field     | Custom field (in Forms, you do not need to set) | NextField      | -             |          |

### Form.Error

自定义错误展示

Custom error display

| Param    | Description                                                      | Type                                                                  | Default Value | Required |
| -------- | ---------------------------------------------------------------- | --------------------------------------------------------------------- | ------------- | -------- |
| name     | Form name                                                        | string \| Array\<string>                                              | -             |          |
| field    | Custom field (in Forms, you do not need to set)                  | NextField                                                             | -             |          |
| children | Custom error rendering, can be a node or function(errors, state) | ReactNode \| ((errors: errorsGroup, state?: FieldState) => ReactNode) | -             |          |

## About Validation

-   Suggest put FormItem as one component, convenient error prompt follow component display.
-   The component must be the first child of the FormItem.
-   See the more validation's rules for the `Field` component documentation.

## Complex Form

If your form scene is very complex, such as dynamic rendering, a large number of fields, complex data structures, complex linkage verification, you can consider using formily, formily has encapsulated all the fusion components, to ensure that you use it out of the box
